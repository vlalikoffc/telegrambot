# Отладка

## Где искать ошибки

Все ошибки плагинов пишутся в `windows/bot.log`.  
Если плагин падает, вы увидите лог вида:

```
Plugin <name> failed in on_render: ...
```

## Авто‑отключение

Система отключает плагин автоматически:

- после нескольких обычных ошибок;
- **сразу** при нарушении безопасности (`SECURITY VIOLATION`).

Это защищает бота и предотвращает циклические падения.

## Частые ошибки

1. **Файловый доступ не через `ctx.fs`.**  
   Используйте только `ctx.fs`, иначе будет отключение.

2. **Попытка чтения `.env`.**  
   Это немедленно отключит плагин.

3. **Запись в `runtime:/` или `plugins:/`.**  
   Разрешена запись только в `self:/`.

## Как безопасно тестировать

- Запускайте бота локально.
- Логируйте ключевые шаги через `ctx.logger`.
- Проверяйте, что плагин не пишет за пределы своей папки.
